(function(e){function t(t){for(var a,n,r=t[0],c=t[1],l=t[2],b=0,u=[];b<r.length;b++)n=r[b],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],a=!0,r=1;r<o.length;r++){var c=o[r];0!==s[c]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=o[0]))}return e}var a={},s={app:0},i=[];function n(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=a,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/global-rare-ebird/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},4678:function(e,t,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=i(e);return o(t)}function i(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="4678"},"46ca":function(e,t,o){e.exports=o.p+"img/hotspot-icon-hotspot.dbd606c3.png"},"4e821":function(e,t,o){e.exports=o.p+"img/ebird.e4c7f43d.svg"},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("a026"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-container",{staticClass:"h-100 d-flex flex-column",attrs:{fluid:""}},[o("b-row",{staticClass:"flex-grow-1"},[o("l-map",{ref:"map",attrs:{bounds:e.bounds,options:{zoomControl:!1}},on:{"update:bounds":e.boundsUpdated}},[o("l-control-layers",{attrs:{position:"topright"}}),o("l-control",{attrs:{position:"topleft"}},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}]},[o("b-icon-layout-sidebar-inset"),e._v(" Sidebar")],1)],1),e._l(e.tileProviders,(function(e){return o("l-tile-layer",{key:e.name,attrs:{name:e.name,visible:e.visible,url:e.url,attribution:e.attribution,"layer-type":"base"}})})),o("l-control-zoom",{attrs:{position:"bottomright"}}),o("v-marker-cluster",{attrs:{options:{showCoverageOnHover:!1,maxClusterRadius:50}}},e._l(e.observationsFiltered,(function(t){return o("l-marker",{key:t.speciesCode+t.subId,ref:"markers",refInFor:!0,attrs:{name:t.speciesCode+t.subId,"lat-lng":t.latLng}},[o("l-icon",{attrs:{"popup-anchor":[0,-19],"icon-anchor":[15,19],"icon-size":[22,30],"icon-url":t.locationPrivate?e.assets.iconPersonal:e.assets.iconHotspot}}),o("l-popup",[o("b-row",{staticClass:"mb-2"},[o("b-col",[o("h5",[e._v(e._s(t.comName))]),t.locationPrivate?o("span",[e._v(e._s(t.locName))]):o("a",{attrs:{href:"https://ebird.org/hotspot/"+t.locId,target:"_blank",title:"eBird hotspot"}},[e._v(e._s(t.locName))])])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"d-flex w-100 justify-content-between"},[o("small",[e._v(e._s(t.daysAgoFmt))]),o("small",[e._v("Count: "+e._s(t.howMany))]),t.hasRichMedia|t.hasComments?o("span",[t.hasRichMedia?o("span",[o("small",[o("b-icon-camera-fill",{staticClass:"mr-1"})],1)]):e._e(),t.hasComments?o("span",[o("small",[o("b-icon-chat-square-text-fill")],1)]):e._e()]):e._e()])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"d-flex w-100 bg-green"},[o("b-button",{staticClass:"mr-1 flex-grow-1",attrs:{href:"https://ebird.org/checklist/"+t.subId+"#"+t.speciesCode,target:"_blank",title:"eBird checklist"}},[o("font-awesome-icon",{attrs:{icon:"clone"}})],1),o("b-button",{staticClass:"flex-grow-1",attrs:{href:"https://www.google.com/maps?saddr=My+Location&daddr="+t.latLng.lat+","+t.latLng.lng,target:"_blank",title:"direction on google map"}},[o("font-awesome-icon",{attrs:{icon:"directions"}})],1)],1)],1)],1)],1)})),1),e.isMylocation&null!=e.location?o("l-circle",{attrs:{"lat-lng":[e.location.latitude,e.location.longitude],radius:1e3*e.distSelected,color:"#4ca800",fillOpacity:0}}):e._e(),e.isMylocation&null!=e.location?o("l-circle-marker",{attrs:{"lat-lng":[e.location.latitude,e.location.longitude],radius:8,color:"white",fillColor:"#4ca800",fillOpacity:1}}):e._e()],2),o("b-sidebar",{attrs:{id:"sidebar-1",title:"Global Rare eBird",visible:"",shadow:""},scopedSlots:e._u([{key:"footer",fn:function(){return[o("div",{staticClass:"\n            d-flex\n            bg-dark\n            text-light\n            align-items-center\n            px-3\n            py-2\n            w-100\n            justify-content-between\n          "},[o("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-instruction",modifiers:{"modal-instruction":!0}}],attrs:{title:"instruction/setting"}},[o("b-icon-gear-fill")],1),o("a",{attrs:{href:"https://github.com/Zoziologie/global-rare-ebird/",target:"_blank",title:"github"}},[o("b-icon-github",{staticStyle:{color:"white"}})],1),o("b-icon-link",{staticStyle:{color:"white"},attrs:{id:"link-btn"}}),o("b-tooltip",{attrs:{target:"link-btn",triggers:"click"}},[o("b-input-group",{staticClass:"bg-green"},[o("b-form-input",{attrs:{type:"text"},model:{value:e.linkUrl,callback:function(t){e.linkUrl=t},expression:"linkUrl"}}),o("b-input-group-prepend",[o("b-button",{on:{click:e.copyLink}},[e._v("copy")])],1)],1)],1),o("a",{attrs:{href:"https://zoziologie.raphaelnussbaumer.com/",target:"_blank",title:"zoziologie.com"}},[o("b-img",{staticClass:"zozio",attrs:{src:e.assets.logo}})],1)],1)]},proxy:!0}])},[o("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[o("div",{staticClass:"px-3 py-2"},[o("b-form",[o("b-form-group",[o("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[o("b-dropdown",{staticClass:"bg-green",scopedSlots:e._u([{key:"button-content",fn:function(){return[e.isMylocation?e._e():o("b-icon-globe",{attrs:{"font-scale":"1"}}),e.isMylocation?o("b-icon-geo-alt",{attrs:{"font-scale":"1"}}):e._e()]},proxy:!0}])},[o("b-dropdown-item",{on:{click:function(t){e.isMylocation=!1}}},[o("b-icon-globe",{staticClass:"mr-2"}),e._v(" Countries")],1),o("b-dropdown-divider"),o("b-dropdown-item",{on:{click:function(t){return e.myLocation()}}},[o("b-icon-geo-alt",{staticClass:"mr-2"}),e._v(" My location")],1)],1)]},proxy:!0}])},[e.isMylocation?e._e():o("multiselect",{staticStyle:{flex:"1 1"},attrs:{options:e.regionSearch,multiple:!0,label:"name","track-by":"name",placeholder:"Select a region ","select-label":"","deselect-label":""},on:{remove:e.removeRegion,select:e.AddRegion},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.option.name)+" "),o("small",[e._v(e._s(t.option.code))])]}}],null,!1,3411325690),model:{value:e.regionSelected,callback:function(t){e.regionSelected=t},expression:"regionSelected"}}),e.isMylocation?o("b-form-input",{attrs:{type:"number",min:"0",max:e.distDist,step:"1",debounce:e.debounce_time,state:!!(e.distSelected<=e.distDist&e.distSelected>=0)&&null},model:{value:e.distSelected,callback:function(t){e.distSelected=t},expression:"distSelected"}}):e._e(),e.isMylocation?o("b-input-group-append",{attrs:{"is-text":""}},[e._v(" km away ")]):e._e()],1)],1),o("b-form-group",[o("b-input-group",{attrs:{append:"days ago"}},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("b-icon-calendar-date",{staticClass:"mx-2"})],1),o("b-form-input",{attrs:{type:"number",min:"0",max:e.backTime,step:"1",debounce:e.debounce_time,state:!!(parseInt(e.dateSelected)<=parseInt(e.backTime)&parseInt(e.dateSelected)>=0)&&null},model:{value:e.dateSelected,callback:function(t){e.dateSelected=t},expression:"dateSelected"}})],1)],1),o("b-form-group",[o("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[o("b-dropdown",{staticClass:"bg-green",scopedSlots:e._u([{key:"button-content",fn:function(){return[o("b-icon-filter",{attrs:{"font-scale":"1"}})]},proxy:!0}])},[o("b-form-group",{staticClass:"p-1 py-0",attrs:{label:"Search by:"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[o("b-form-checkbox-group",{attrs:{options:e.filterSearchOptions,"aria-describedby":a},model:{value:e.filterSearchOptionsSelected,callback:function(t){e.filterSearchOptionsSelected=t},expression:"filterSearchOptionsSelected"}})]}}])})],1)]},proxy:!0}])},[o("b-form-input",{attrs:{type:"search",placeholder:"Search...",debounce:e.debounce_time},model:{value:e.filterSearch,callback:function(t){e.filterSearch=t},expression:"filterSearch"}})],1)],1)],1),o("label",{staticClass:"mt-2"},[e._v("Sightings:")]),o("div",{staticClass:"accordion",attrs:{role:"tablist"}},e._l(e.speciesFiltered,(function(t){return o("b-card",{key:t.speciesCode,staticClass:"mb-1",attrs:{"no-body":""}},[o("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+t.speciesCode,expression:"'accordion-' + spe.speciesCode"}],staticClass:"\n                  p-1\n                  d-flex\n                  justify-content-between\n                  align-items-center\n                  cursor-pointer\n                ",attrs:{"header-tag":"header",role:"tab"},on:{mouseover:function(o){return e.mouseOverListHeader(t.speciesCode)},mouseout:e.mouseOutList}},[e._v(" "+e._s(t.comName)+" "),o("b-badge",{staticStyle:{"background-color":"#343a40"},attrs:{pill:""}},[e._v(e._s(t.count))])],1),o("b-collapse",{attrs:{id:"accordion-"+t.speciesCode,accordion:"my-accordion",role:"tabpanel"}},[o("b-list-group",e._l(t.obs,(function(a){return o("b-list-group-item",{key:t.speciesCode+a.subId,staticClass:"py-2 px-2 hover-darken",on:{mouseover:function(o){return e.mouseOverListItem(t.speciesCode+a.subId)},mouseout:e.mouseOutList}},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[a.locationPrivate?o("span",[e._v(e._s(a.locName))]):o("a",{attrs:{href:"https://ebird.org/hotspot/"+a.locId,target:"_blank",title:"eBird hotspot"}},[e._v(e._s(a.locName))]),o("span",{staticStyle:{flex:"none"}},[o("a",{staticClass:"mr-1",attrs:{href:"https://ebird.org/checklist/"+a.subId+"#"+a.speciesCode,target:"_blank",title:"eBird checklist"}},[o("font-awesome-icon",{attrs:{icon:"clone"}})],1),o("a",{attrs:{href:"https://www.google.com/maps?saddr=My+Location&daddr="+a.latLng.lat+","+a.latLng.lng,target:"_blank",title:"direction on google map"}},[o("font-awesome-icon",{attrs:{icon:"directions"}})],1)])]),o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("small",[e._v(e._s(a.daysAgoFmt))]),o("small",[e._v("Count: "+e._s(a.howMany))]),a.hasRichMedia|a.hasComments?o("span",[a.hasRichMedia?o("span",[o("small",[o("b-icon-camera-fill",{staticClass:"mr-1"})],1)]):e._e(),a.hasComments?o("span",[o("small",[o("b-icon-chat-square-text-fill")],1)]):e._e()]):e._e()])])})),1)],1)],1)})),1)],1)])],1)],1),o("b-modal",{attrs:{id:"modal-instruction"}},[o("h2",[e._v("Instruction")]),o("p",[e._v(" Query rare sightings per countries (or states for US and CA). Filter per date, location and species name. ")]),e._v(" How is it made? Report and issue? "),o("h2",[e._v("Bookmark")]),e._v(" You can create a bookmark and share a link using the following URL ?r=CH&back=4&mylocation=1&dist=20 "),o("h2",[e._v("Setting")]),o("b-form-group",[o("b-form-checkbox",{model:{value:e.mapSelected,callback:function(t){e.mapSelected=t},expression:"mapSelected"}},[e._v(" Syncronize the observation list with the map view.")])],1),o("p",[e._v(" The following settings affect the query to the eBird API. "),o("a",{attrs:{href:"https://documenter.getpostman.com/view/664302/S1ENwy59#397b9b8c-4ab9-4136-baae-3ffa4e5b26e4"}},[e._v("See the eBird API documentation for more information")]),e._v(". You might have to refresh the page/reload the data to be in effect. Note that longer distance and duration can affect the performance of the website. ")]),o("b-form-group",[o("b-form-checkbox",{model:{value:e.mediaSelected,callback:function(t){e.mediaSelected=t},expression:"mediaSelected"}},[e._v(" fetch only observations with media")]),o("b-form-checkbox",{model:{value:e.hotspot,callback:function(t){e.hotspot=t},expression:"hotspot"}},[e._v(" fetch only observations made at a hotspot")])],1),o("b-form-group",{attrs:{label:"The search radius from your location, in kilometers (max 50)"}},[o("b-form-input",{attrs:{type:"number",min:"0",max:"50",step:"1"},model:{value:e.distDist,callback:function(t){e.distDist=t},expression:"distDist"}})],1),o("b-form-group",{attrs:{label:"The number of days back to fetch observations (max 30)"}},[o("b-form-input",{attrs:{id:"backTime",type:"number",min:"0",max:"30",step:"1"},model:{value:e.backTime,callback:function(t){e.backTime=t},expression:"backTime"}})],1)],1)],1)},i=[],n=o("2909"),r=(o("d81d"),o("4de4"),o("d3b7"),o("159b"),o("b0c0"),o("caad"),o("2532"),o("a15b"),o("4e82"),o("ac1f"),o("841c"),o("3ca3"),o("ddb0"),o("9861"),o("99af"),o("f9e3"),o("2dd8"),o("6cc5"),o("ef9d"),o("8243"),o("3ac1"),o("e11e")),c=o("2699"),l=o("a40a"),d=o("9ee8"),b=o("2253"),u=o("c8b6"),p=o("4e2b"),m=o("f60f"),f=o("fbba"),h=o("0dbd"),g=o("ea97"),v=o("c1df"),y=o.n(v),j=o("ca9f"),k=o.n(j),S=(o("c293"),{components:{LMap:c["a"],LTileLayer:l["a"],LControlLayers:d["a"],LControl:b["a"],LControlZoom:u["a"],LMarker:p["a"],LPopup:m["a"],LIcon:f["a"],LCircle:h["a"],LCircleMarker:g["a"],"v-marker-cluster":k.a},data:function(){return{isMylocation:!0,location:null,bounds:Object(r["latLngBounds"])([[90,180],[-90,-180]]),tileProviders:[{name:"Mapbox.Streets",visible:!0,url:"https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmFmbnVzcyIsImEiOiIzMVE1dnc0In0.3FNMKIlQ_afYktqki-6m0g",attribution:""},{name:"Mapbox.Satellite",visible:!1,url:"https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicmFmbnVzcyIsImEiOiIzMVE1dnc0In0.3FNMKIlQ_afYktqki-6m0g",attribution:""},{name:"OpenStreetMap",visible:!1,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"Esri.WorldImagery",visible:!1,url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],debounce_time:200,backTime:5,distDist:50,hotspot:!1,regionSearch:[],regionSelected:[],observationsRegion:[],observationsMylocation:[],speciesSelected:[],dateSelected:2,distSelected:30,mapSelected:!0,mediaSelected:!1,filterSearch:"",filterSearchOptions:[{text:"Common Name",value:"comName"},{text:"Latin Name",value:"sciName"},{text:"Region Code",value:"regionCode"},{text:"Location Name",value:"locName"},{text:"Observer Name",value:"userDisplayName"}],filterSearchOptionsSelected:["comName"],showOverlay:!1,assets:{logo:o("9b19"),ebird:o("4e821"),iconPersonal:o("f442"),iconHotspot:o("46ca")}}},methods:{boundsUpdated:function(e){this.bounds=e},myLocation:function(e){var t=this;"User denied Geolocation"!=this.location?null!=this.location?(console.log("Location found: "+this.location),this.isMylocation=!0,this.showOverlay=!0,this.$http.get("https://api.ebird.org/v2/data/obs/geo/recent/notable?lat="+this.location.latitude+"&lng="+this.location.longitude+"&detail=full&key=vcs68p4j67pt&back="+this.backTime+"&dist="+this.distDist+"&hotspot="+this.hotspot).then((function(e){t.observationsMylocation=Object(n["a"])(t.processObs(e.data)),t.observationsMylocation.length>0&&t.$refs.map.mapObject.fitBounds(t.observationsMylocation.map((function(e){return e.latLng}))),t.showOverlay=!1}))):setTimeout((function(){console.log("Searching for location... attempt "+e),t.myLocation(e+1)}),1e3*e):alert("Your location is not enabled in your broweser")},AddRegion:function(e){var t=this;this.showOverlay=!0,this.$http.get("https://api.ebird.org/v2/data/obs/"+e.code+"/recent/notable?detail=full&key=vcs68p4j67pt&back="+this.backTime+"&hotspot="+this.hotspot).then((function(e){var o;(o=t.observationsRegion).push.apply(o,Object(n["a"])(t.processObs(e.data))),t.observationsRegion.length>0&&t.$refs.map.mapObject.fitBounds(t.observationsRegion.map((function(e){return e.latLng}))),t.showOverlay=!1}))},removeRegion:function(e){this.observationsRegion=this.observationsRegion.filter((function(t){return t.countryCode!=e.code&t.subnational1Code!=e.code})),this.observationsRegion.length>0&&this.$refs.map.mapObject.fitBounds(this.observationsRegion.map((function(e){return[e.lat,e.lng]})))},processObs:function(e){var t=this,o=e.map((function(e){return e.obsId}));return e.filter((function(e,t){return o.indexOf(e.obsId)===t})).map((function(e){var o={};return o.comName=e.comName,o.sciName=e.sciName,o.speciesCode=e.speciesCode,o.hasComments=e.hasComments,o.hasRichMedia=e.hasRichMedia,o.howMany=e.howMany,o.locName=e.locName,o.locId=e.locId,o.locationPrivate=e.locationPrivate,o.subId=e.subId,o.userDisplayName=e.userDisplayName,o.subnational1Code=e.subnational1Code,o.countryCode=e.countryCode,t.location&&(o.distToMe=t.calcCrow(e.lat,e.lng,t.location.latitude,t.location.longitude)),o.daysAgo=y()().startOf("day").diff(y()(e.obsDt).startOf("day"),"days"),o.daysAgoFmt=0==o.daysAgo?"today":1==o.daysAgo?"yesterday":o.daysAgo+" days ago",o.latLng=Object(r["latLng"])(e.lat,e.lng),o}))},mouseOverListItem:function(e){this.$refs.markers.forEach((function(t){t.name==e?t.setVisible(!0):t.setVisible(!1)}))},mouseOverListHeader:function(e){this.$refs.markers.forEach((function(t){t.name.includes(e)?t.setVisible(!0):t.setVisible(!1)}))},mouseOutList:function(){this.$refs.markers.forEach((function(e){e.setVisible(!0)}))},calcCrow:function(e,t,o,a){var s=6371,i=this.toRad(o-e),n=this.toRad(a-t),r=this.toRad(e),c=this.toRad(o),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(n/2)*Math.sin(n/2)*Math.cos(r)*Math.cos(c),d=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),b=s*d;return b},toRad:function(e){return e*Math.PI/180},copyLink:function(){navigator.clipboard.writeText(this.linkUrl).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}))}},computed:{linkUrl:function(){var e="https://zoziologie.raphaelnussbaumer.com/global-rare-ebird/?";return e+="mylocation="+(this.isMylocation?"1":"0")+"&",this.regionSelected.length>0&&(e+="r="+this.regionSelected.map((function(e){return e.code})).join(",")+"&"),e+="dist="+this.distSelected+"&",e+="back="+this.dateSelected+"&",e},observationsFiltered:function(){var e=this,t=this.isMylocation?this.observationsMylocation:this.observationsRegion;return t=t.filter((function(t){return t.daysAgo<=parseInt(e.dateSelected)})),this.isMylocation&&(t=t.filter((function(t){return t.distToMe<=e.distSelected}))),this.mediaSelected&&(t=t.filter((function(e){return e.hasRichMedia}))),this.hotspot&&(t=t.filter((function(e){return!e.locationPrivate}))),this.mapSelected&&(t=t.filter((function(t){return e.bounds.pad(-.05).contains(t.latLng)}))),t=t.filter((function(t){return e.filterSearchOptionsSelected.some((function(o){return t[o].toLowerCase().includes(e.filterSearch.toLowerCase())}))})),t.sort((function(e,t){return e.daysAgo<t.daysAgo?1:-1})).sort((function(e,t){return e.comName>t.comName?1:-1}))},speciesFiltered:function(){return this.observationsFiltered.reduce((function(e,t){return e[t.speciesCode]=e[t.speciesCode]||{obs:[],count:0,comName:t.comName,speciesCode:t.speciesCode},e[t.speciesCode].obs.push(t),e[t.speciesCode].count=e[t.speciesCode].count+1,e}),{})}},mounted:function(){var e=this,t=window.location.search.substring(1),o=new URLSearchParams(t);o.get("back")&&(this.dateSelected=o.get("back")),o.get("dist")&&(this.distSelected=o.get("dist")),this.$http.get("https://api.ebird.org/v2/ref/region/list/country/world?key=vcs68p4j67pt").then((function(t){t.data=t.data.filter((function(e){return!["US","CA"].includes(e.code)})),e.regionSearch=[].concat(Object(n["a"])(e.regionSearch),Object(n["a"])(t.data)),e.$http.get("https://api.ebird.org/v2/ref/region/list/subnational1/US?key=vcs68p4j67pt").then((function(t){e.regionSearch=[].concat(Object(n["a"])(e.regionSearch),Object(n["a"])(t.data)),e.$http.get("https://api.ebird.org/v2/ref/region/list/subnational1/CA?key=vcs68p4j67pt").then((function(t){if(e.regionSearch=[].concat(Object(n["a"])(e.regionSearch),Object(n["a"])(t.data)).sort((function(e,t){return e.name>t.name?1:-1})),1==o.get("mylocation")|"true"==o.get("mylocation"))e.myLocation(1);else{e.isMylocation=!1;var a=e.regionSearch.filter((function(e){return o.get("r")==e.code}));a.length>0&&(e.regionSelected=a[0],e.AddRegion(a[0]))}}))}))}))},created:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){e.location=t.coords}),(function(t){e.location=t.message}))}}),M=S,w=(o("60bc"),o("5c64"),o("2877")),I=Object(w["a"])(M,s,i,!1,null,null,null),C=I.exports,x=o("5f5b"),N=o("b1e0"),A=o("bc3a"),z=o.n(A),O=o("8e5f"),R=o.n(O),T=o("ecee"),L=o("c074"),_=o("ad3d");a["default"].use(x["a"]),a["default"].use(N["a"]),a["default"].prototype.$http=z.a,a["default"].component("multiselect",R.a),T["c"].add(L["b"],L["a"]),a["default"].component("font-awesome-icon",_["a"]);var D=o("00e7");a["default"].use(D),new a["default"]({el:"#app",template:"<App/>",components:{App:C}})},"5c64":function(e,t,o){"use strict";o("d32a")},"9b19":function(e,t,o){e.exports=o.p+"img/logo.01268224.svg"},d32a:function(e,t,o){},f442:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAiCAYAAACqVHINAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMS0zMFQxNToyOTo0OSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDItMTZUMTQ6MDA6NDErMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDItMTZUMTQ6MDA6NDErMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4NDUzZjUtMzFmZi1lMjQ2LThlY2YtNWQyZTI3MGQ0NTY0IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzRkZDZmMWQtNTAzMi02NTRmLTk2MTUtZWVmNzRjNWExNmIyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MzU4YzJjZWEtZDRiYS0wYTRiLWJjZjEtMDExNzU3ZTcxMWE2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozNThjMmNlYS1kNGJhLTBhNGItYmNmMS0wMTE3NTdlNzExYTYiIHN0RXZ0OndoZW49IjIwMTctMTEtMzBUMTU6Mjk6NDkrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmQwODQ1M2Y1LTMxZmYtZTI0Ni04ZWNmLTVkMmUyNzBkNDU2NCIgc3RFdnQ6d2hlbj0iMjAxOC0wMi0xNlQxNDowMDo0MSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6HKKGLAAAEhElEQVRIx61Wa2xTZRh+e1sv61pqxzZm1+EGa1MvUVBHUIJIBKcuASZK1BBmRLQ4NWi8JBoTxZj4Cw2RZD/UODUhk8REY9Qf4OKVCZFExWRi3YWxW8tKb+v9+LzfzkE21vaM7W2e5pzvcp7v/d7nfb9PI0kSFbFGYDtwB+ADllzSFwZOA98B3cA/hT6iKUDiBl4GnuCXbE6i4VCCkpkcZbJ5MaDCbCCX00I6nUaZ8wHwBvCvGpIHgS7AEBiN0ue/DNHJMyEKRVOCLJsHCaaYynRUaTPSqkYntd7qopW1Np6bA/xAZzGSDuBdfuj8uo+6jgUoHE+T02aicqOetFi0RjO98lxeokQqS8FIkuyWMtp+ez11tHoxRvS/CbwyF8k24EgOq/UfOk49f4xSfZWVbBaD+GAh04I5nsxS/1iMbmxw0HtPNpPDauSuV4H9l5JUA6P88ExnL3372wj56uzoxc4U1YW8UtnDvuEItq2CPnz2NhEz2C3ACa087oDYom/66Mtfz5LPPS0iNQTKuDy89bps9OdgmN7q/l3p+lh4KytpB6un62hADqBEKr8/w1gY3qvtWOgw9fYFuckDbGaSPfx2+Pt+Oh9LCTelK2GQTa/TkkGvpU97LirZzyQbWfsnINMqu7lokNVYHiusWWIW23bufIKbbmISbwDK4AY5WAu2MngSSWTozEiUX51MYgzHU5TO5CHHReEQEZUgzWRKVAdJfFbDPw0tmmkEJNJp5VTCX6TGYSYLMprVsSie4DMGMDhtIimTTHLKvbQc2V0uSshiOBRNZqjGYSKPy86v/UzyBT+t81WLIshlYiGmw/zRySSt8SwlM4oo7BiTvM/17n4UuMYaK4UiqQXFJzqVEdX54Q0NStM7TMJifpur7K6NK+jcZEII4Uq9GJiI0wNY8DLEGfYJMKgUSD0wCVjbD/xIp4cuUB3ilJ9HYnKBDEWTZCnTU/dL66ncpFcK77iSGVlgFz/s2+KbcQLOR1JBbHVHq0cheJ0JlAKp2BHgp+uXO2jrGjfxqahTKQIWy1AwTs1NldSy2kXyx1+72D9r/G5xPOKEq7KbpiWtgoe9TgP+ezxK09MzFjFrPN8+DjorjPT43U00hCBqS7Cwt4GxKG1b66bVK5zc1MtFvRgJ23Ms6ba19cRbNzI5VZCIm1myNhTW3ZualOZHLtvOOeam+QzQ46rz/FafqKbihjJXLDTTkmWvl10lJPsR8LcaEpKvNH81I2s3r6qlgfH4ZSJgAvbyBni7c0OjqFHA3jkXU2S72/lvL4LJJx1ff2YfTlwdnrrXo4hjHxCbL8lx4Kvl1VbaeWcDDU78743I7PEYtdxcS+uu5XyjAeBQQYmXUOdD/PfYXSupFldSTjbephiqrMmgoxfarlPGtRXNoxIkF/iCxldSf0sTjYWnxAnEMdqx/hpxlstV/GSJaiCpwQQg7Tn4s1TX/pm0Zf9RKZnOSrJVlpqv9lR/VIjgPg8yOyckazSIs+JFIKiirklq8QMve3AipnhwVu3c+ZDYgR4gApwCvGrn/geU1nGytm/ULQAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.df45b95d.js.map